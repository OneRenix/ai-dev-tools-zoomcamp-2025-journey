{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
  <div class="card">
    <div class="card-header">
      {% if form.instance.pk %}
        <h2>Edit Todo</h2>
      {% else %}
        <h2>Create Todo</h2>
      {% endif %}
    </div>
    <div class="card-body">
      <form method="post">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-6 mb-3">
            {{ form.title.label_tag }}
            {{ form.title|attr:"class:form-control" }}
            {{ form.title.errors }}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.due_date.label_tag }}
            {{ form.due_date|attr:"class:form-control" }}
          </div>
        </div>
        <div class="mb-3">
          {{ form.description.label_tag }}
          {{ form.description|attr:"class:form-control" }}
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            {{ form.priority.label_tag }}
            {{ form.priority|attr:"class:form-select" }}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.tags.label_tag }}
            {{ form.tags|attr:"class:form-select" }}
          </div>
        </div>
        <div class="form-check mb-3">
          {{ form.resolved|attr:"class:form-check-input" }}
          {{ form.resolved.label_tag }}
        </div>
        {{ form.non_field_errors }}
        <button type="submit" class="btn btn-primary">Save</button>
        <a href="{% url 'tasks:todo_list' %}" class="btn btn-secondary">Cancel</a>
      </form>
    </div>
  </div>
{% endblock %}
